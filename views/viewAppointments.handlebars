{{!< layouts/main}} <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js">
    </script>

    <section class="intro py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card shadow">
                        <div class="card-body">
                            <h2 class="card-title text-center mb-4">View Appointments</h2>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Appointment ID</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Patient</th>
                                        <th>Dentist</th>
                                        <!-- Add other columns as needed -->
                                    </tr>
                                </thead>
                                <tbody id="appointments-template">
                                    {{#if appointments}}
                                    <table class="table">
                                        <!-- Table header -->
                                        <tbody id="appointments-template">
                                            {{#each appointments}}
                                            <tr>
                                                <td>{{this.appointment_id}}</td>
                                                <td>{{this.date}}</td>
                                                <td>{{this.time}}</td>
                                                <td>{{this.patient_name}}</td>
                                                <td>{{this.dentist_name}}</td>
                                                <!-- Add other columns as needed -->
                                            </tr>
                                            {{/each}}
                                        </tbody>
                                    </table>
                                    {{else}}
                                    <p>No appointments found</p>
                                    {{/if}}

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Fetch appointments data from the backend
        fetch('/appointments')
            .then(response => response.json())
            .then(appointments => {
                console.log('Appointments data:', appointments); // Add this line for debugging
                // Render appointments data using Handlebars
                const appointmentsTemplate = Handlebars.compile(document.getElementById('appointments-template').innerHTML);
                document.querySelector('tbody').innerHTML = appointmentsTemplate({ appointments });
            })
            .catch(error => console.error('Error fetching appointments:', error));


    </script>